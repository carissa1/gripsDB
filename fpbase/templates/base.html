{% load i18n %}
{% load render_bundle webpack_static from webpack_loader %}

<!DOCTYPE html>
<html lang="en">
  <head>
    {% block ga %}
      {% if not debug %}
        {% include "_ga.html" with ga_tracking_id=ga_tracking_id %}
      {% endif %}
    {% endblock ga %}

    <meta charset="utf-8">
    <meta http-equiv="Content-Language" content="en">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>{% block title %}FPbase :: The Fluorescent Protein Database{% endblock title %}</title>
    <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Organization",
      "url": "https://www.fpbase.org",
      "logo": "https://www.fpbase.org{% webpack_static 'images/logo_green_wide.png' %}"
    };
    </script>

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="{% block meta-description %}{% endblock %}">
    <link rel="canonical" href="{% block canonical_url %}{{ CANONICAL_URL }}{{ request.get_full_path }}{% endblock %}">
    <meta name="author" content="Talley Lambert">
    <meta name="copyright" content="Talley Lambert" />

    <link rel="shortcut icon" href="{% webpack_static 'images/favicon.ico' %}">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
    <![endif]-->

    {% render_bundle 'vendor' 'css' %}
    {% render_bundle 'main' 'css' %}

    <!-- hi there -->


    {% block extrahead %}
    {% endblock extrahead %}
  </head>

  <body class="{% block body-class %}{% endblock %}">
    {% block bodyopen %}
    {% endblock bodyopen %}

    {% block body %}
    <div>
        <nav class="navbar navbar-expand-md navbar-dark bg-primary">
          {% block navcontainer %}
              {% include "_nav.html" %}
          {% endblock navcontainer %}
        </nav>
    </div>
    <noscript>
        <div class="container-fluid text-center mt-0 bg-danger text-white pt-3 pb-3"><strong>Javascript is disabled!&nbsp;  Many pages and features of FPbase will not work properly</strong>
        </div>
    </noscript>

    <div class="{% block container-class %}container{% endblock %} mt-4">


      {% block messages %}
        {% if messages %}
          <div class="container">
            {% for message in messages %}
                <div class="alert alert-dismissible {% if message.tags %}alert-{{ message.tags }}{% else %}info{% endif %}">{{ message|safe }}
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
            {% endfor %}
          </div>
        {% endif %}
      {% endblock messages %}

      {% block content %}
      {% endblock content %}

    </div> <!-- /container -->

    <footer class="footer container-fluid">
      <div class="container">
        <div class="row">
          <div class="col-4">
            {% include '_twittershare.html' %}<br>
          </div>
          <div class="col-8 text-right">

            <p>Â©FPbase, <span id='curyear'>2018</span>
              <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/" id="licenselink"><img alt="Creative Commons License" style="border-width:0; margin-top:-3px; margin-left:6px;" src="{% webpack_static 'images/by-sa.png' %}" /></a><br>
            <a href="{% url 'terms' %}">Terms</a> &amp; <a href="{% url 'privacy' %}">Privacy</a><br>

            {% block extrafooter %}{% endblock extrafooter %}</p>
          </div>
        </div>
      </div>
      <script type="text/javascript">document.getElementById("curyear").innerHTML = (new Date()).getFullYear();</script>
    </footer>

    {% block modal %}{% endblock modal %}

    {% endblock body %}

      {% block sentry %}
        {% if not debug %}
          {% include "_sentry.html" with sentry_js_dsn=sentry_js_dsn %}
        {% endif %}
      {% endblock sentry %}


      <!-- place project specific Javascript -->
      {% render_bundle 'vendor' 'js' %}
      {% render_bundle 'main' 'js' %}

      {% block javascript %}{% endblock %}

  </body>
</html>

