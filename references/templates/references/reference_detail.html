{% extends "base.html" %}

{% block title %}{{ reference.citation  }} :: Fluorescent Protein Database {% endblock %}
{% block meta-description %}Fluorescent proteins introduced or referenced by {{ reference.citation  }}: {{reference.title}}.  Including: {% for protein in reference.primary_proteins.all %}{{ protein.name }}{% if not forloop.last %}, {% endif %}{% endfor %}{% endblock %}

{% block content %}

	<div class="primary-ref references">
		{% include "_reference.html" with ref=reference %}
	</div>

	<ol class='protein-list'>
		<h5>Primary Proteins: </h5>
		{% for protein in reference.primary_proteins.all %}
			<li><a href="{{ protein.get_absolute_url }}">{{ protein.name }}</a></li>
		{% endfor %}
	</ol>

	{% if reference.protein_secondary_reference.count > 0 %}
	    <ol class='protein-list'>
	    	<h5>Additional Proteins:</h5>
	    	{% for protein in reference.protein_secondary_reference.all %}
	    		<li class='mr-1'><a href="{{ protein.get_absolute_url }}">{{ protein.name }}{% if not forloop.last %},{% endif %}</a></li>
	    	{% endfor %}
	    </ol>
	{% endif %}


{% endblock content %}

{% block extrafooter %}
    {% if request.user.is_staff %}
      {% load admin_urls %}
      <a href="{% url 'admin:references_reference_change' reference.id %}">{{ reference}} on admin</a><br>
    {% endif %}
{% endblock extrafooter %}
