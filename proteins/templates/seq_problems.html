{% extends "base.html" %}

{% block content %}

<h2 class="text-center">Proteins Needing Attention</h2>

<h4 class='font-weight-bold'>Sequences containing His tag</h4>
<p>Usually, these sequences were pulled from PDB.  Cross-check with originally publication, and remove His tag and any C- N- terminal linkers</p>
<div>
  <ul class="row">
    {% for p in histags  %}
      <li class="col-12 col-lg-3 col-md-4 col-sm-6"><a href="{% url 'proteins:protein-detail' p.slug %}">{{p.name|safe}}</a></li>
    {% empty %}
      <p>None!  🎉🍾🏆</p>
    {% endfor %}
  </ul>
</div>

<h4 class='font-weight-bold'>Sequences not starting with methionine</h4>
<p>Everything should start with Met.  Cross check sequences with original publication and clean up.</p>
<div>
  <ul class="row">
    {% for p in nomet %}
      <li class="col-12 col-md-6"><a href="{{p.get_absolute_url}}">{{p|safe}}</a>: <span class='text-muted'>{{ p.seq|slice:":15" }}...</span></li>
    {% empty %}
      <p>None!  🎉🍾🏆</p>
    {% endfor %}
  </ul>
</div>

<h4 class='font-weight-bold'>Sequences missing</h4>
<p>NOTE: sometimes easier is to simply add lineage information... which will autopoulate the sequence field based on a mutation from a parental protein</p>
<div>
  <ul class="row">
    {% for p in noseqs  %}
      <li class="col-12 col-lg-3 col-md-4 col-sm-6"><a href="{% url 'proteins:protein-detail' p.slug %}">{{p.name|safe}}</a></li>
    {% empty %}
      <p>None!  🎉🍾🏆</p>
    {% endfor %}
  </ul>
</div>

<h4 class='font-weight-bold'>Sequences not matching GenBank</h4>
<p>These sequences do not exactly match the sequence for the corresponding genbank ID.  Sometimes this is just because the genbank sequence has slight N/C terminal differences, or perhaps a His tag.  Sometimes it indicates a problem with our sequence, and sometimes Genbank is wrong!  The gray text shows the mutation from the FPbase sequence to the Genbank sequence.</p>
<div>
  <ul class="row">
    {% for name, slug, genbank, muts, seq in mismatch  %}
      <li class="col-12 col-lg-6"><a href="{% url 'proteins:protein-detail' slug %}">{{name|safe}}</a>: <span class='text-muted small'> (<a href="https://www.ncbi.nlm.nih.gov/protein/{{ genbank }}" target="_blank" class="text-info" rel="noopener">{{ genbank}}</a>){{muts|slice:":28" }}</span></li>
    {% empty %}
      <p>None!  🎉🍾🏆</p>
    {% endfor %}
  </ul>
</div>

<h4 class='font-weight-bold'>Parental organism missing</h4>
<p>Go to the original publication and try to figure out which organism it comes from.  NOTE: often easier is to simply add lineage information... which will populate the parent organism with the same organism as the parent protein.</p>
<div>
  <ul class="row">
    {% for p in noparent %}
      <li class="col-12 col-lg-3 col-md-4 col-sm-6"><a href="{{p.get_absolute_url}}">{{p|safe}}</a></li>
    {% empty %}
      <p>None!  🎉🍾🏆</p>
    {% endfor %}
  </ul>
</div>

<h4 class='font-weight-bold'>No Fluorescent States</h4>
<p>Nothing has been entered about the fluorescent properties of these proteins.  They will not be shown in color in many places on the website.</p>
<div>
  <ul class="row">
    {% for p in nostates  %}
      <li class="col-12 col-lg-3 col-md-4 col-sm-6 small"><a href="{% url 'proteins:protein-detail' p.slug %}">{{p.name|safe}}</a></li>
    {% empty %}
      <p>None!  🎉🍾🏆</p>
    {% endfor %}
  </ul>
</div>

<h4 class='font-weight-bold'>Only 2P Spectra</h4>
<p>Having only 2P spectra looks strange in some places on the site.  Better to find the 1P spectra for these as well.</p>
<div>
  <ul class="row">
    {% for p in only2p  %}
      <li class="col-12 col-lg-3 col-md-4 col-sm-6"><a href="{% url 'proteins:protein-detail' p.protein__slug %}">{{p.protein__name|safe}}</a></li>
    {% empty %}
      <p>None!  🎉🍾🏆</p>
    {% endfor %}
  </ul>
</div>


<h4 class='font-weight-bold'>Lineage Problems</h4>
<p>Either a mutation string problem, misalignment, or doesn't yield the child sequence.</p>
<div>
  <ul class="row">
    {% for prot, prob in linprobs %}
      <li class="col-12"><a href="{{prot.get_absolute_url}}">{{prot|safe}}</a>: {{prob.0}}</li>
    {% empty %}
      <p>None!  🎉🍾🏆</p>
    {% endfor %}
  </ul>
</div>

<h4 class='font-weight-bold'>No Lineage</h4>
<p>No lineage information</p>
<div>
  <ul class="row">
    {% for prot in nolineage %}
      <li class="col-12 col-lg-3 col-md-4 col-sm-6 small"><a href="{% url 'proteins:protein-detail' prot.slug %}">{{prot.name|safe}}</a></li>
    {% empty %}
      <p>None!  🎉🍾🏆</p>
    {% endfor %}
  </ul>
</div>


<h4 class='font-weight-bold'>Possibly miscategorized as "basic"</h4>
<p>Proteins that may be switchable/convertable, etc... but that only have a single fluorescent state</p>
<div>
  <ul class="row">
    {% for prot in switchers %}
      <li class="col-12 col-lg-3 col-md-4 col-sm-6 small"><a href="{% url 'proteins:protein-detail' prot.slug %}">{{prot.name|safe}}</a></li>
    {% empty %}
      <p>None!  🎉🍾🏆</p>
    {% endfor %}
  </ul>
</div>



{% endblock %}




